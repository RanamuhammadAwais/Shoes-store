(window.webpackJsonp=window.webpackJsonp||[]).push([["component-customForm"],{"./assets/src/components/common/ErrorBox.tsx":function(e,a,t){"use strict";var r=t("./node_modules/classnames/index.js"),n=t.n(r),l=t("./node_modules/react/index.js"),o=t.n(l);a.a=e=>!e.errors||0===e.errors.length||e.errors.every((e=>""===e))?o.a.createElement(o.a.Fragment,null):o.a.createElement("div",{className:n()("globalerrors","invalid-feedback",e.className),role:"alert"},e.errors.map(((e,a)=>o.a.createElement("div",{key:a},(e||"").toString()))))},"./assets/src/components/pdForms/CustomForm.tsx":function(e,a,t){"use strict";t.r(a);var r=t("./node_modules/react/index.js"),n=t.n(r),l=t("./assets/src/utils/formutils.ts"),o=t("./node_modules/react-final-form/dist/react-final-form.es.js"),s=t("./assets/src/ui/formfield/DwFormField.tsx"),c=t("./assets/src/ui/button/Button.tsx"),i=t("./node_modules/react-i18next/dist/es/withTranslation.js"),d=t("./assets/src/components/common/ErrorBox.tsx"),m=t("./assets/src/ui/loader/Loading.tsx"),u=t("./assets/src/utils/api.ts");var p=Object(i.a)()((e=>{const{onComplete:a,t:t,formid:i}=e,[p,b]=Object(r.useState)([]),[h,g]=Object(r.useState)(),[y,f]=Object(r.useState)(!1),[v,E]=Object(r.useState)(),[x,C]=Object(r.useState)();Object(r.useEffect)((()=>{u.a.getForm("newsletter",{}).then((e=>{E(e);const a={locale:window.locale,formid:i};C((e=>Object.assign(Object.assign({},e),a)))})).catch((e=>{console.error(e)}))}),[]);const N=async e=>{let a=await l.a.validateForm(e,v,"newsletter");return Object.assign(Object.assign({},a),{})};return v?n.a.createElement(n.a.Fragment,null,n.a.createElement(o.b,{onSubmit:async e=>{f(!0),b([]);let t=await N(e);if(t&&Object.keys(t).length>0)return t;try{u.a.subscribeNewsletter(e,v).then((e=>{if(e.error&&null!=e.error)console.error(e.error),a("error");else{const t=e.success?"success":"error";a(t)}}))}catch(e){a("error")}},validate:N,initialValues:x,render:e=>n.a.createElement("form",{onSubmit:e.handleSubmit},n.a.createElement(s.a,{def:v,name:"email",autocomplete:"email"}),n.a.createElement(s.a,{def:v,name:"gender",type:"radio"}),n.a.createElement(s.a,{def:v,type:"checkbox",name:"marketingFlag"}),n.a.createElement(s.a,{def:v,type:"checkbox",name:"profilingFlag"}),n.a.createElement(c.a,{type:"submit",disabled:y},t("pd.submit.cta")),n.a.createElement(s.a,{def:v,type:"hidden",hiddenLabel:!0,name:"locale"}),n.a.createElement(s.a,{def:v,type:"hidden",hiddenLabel:!0,name:"formid"}),n.a.createElement(d.a,{errors:p}),y&&n.a.createElement(m.a,null))})):n.a.createElement(n.a.Fragment,null)}));a.default=Object(i.a)()((e=>{const{t:a}=e,[t,l]=Object(r.useState)(null),[o,s]=Object(r.useState)(!1),c=e=>{l(e),s(!0)};return o?"success"===t?n.a.createElement("div",{className:"customform-msg customform-msg--success",dangerouslySetInnerHTML:{__html:e.successcopy}}):n.a.createElement("div",{className:"customform-msg customform-msg--error"},n.a.createElement("p",null,a("error.message.generic"))):(()=>{const a=n.a.createElement("p",null,"Seleziona un form da esporre");switch(e.formid){case"":default:return a;case"newsletter_10_welcome":return n.a.createElement(p,{onComplete:c,formid:e.formid})}})()}))},"./assets/src/ui/button/Button.tsx":function(e,a,t){"use strict";var r=t("./node_modules/classnames/index.js"),n=t.n(r),l=t("./node_modules/react/index.js"),o=t.n(l);const s=e=>o.a.createElement("button",{ref:e.reference,onClick:a=>{null!=e.usesDefault&&!e.usesDefault&&e.onClick&&a.preventDefault(),e.onClick&&e.onClick.call(void 0,a)},onKeyDown:a=>{null!=e.usesDefault&&!e.usesDefault&&e.onKeyDown&&a.preventDefault(),e.onKeyDown&&e.onKeyDown.call(void 0,a)},disabled:e.disabled,className:n()("cta",e.cls,e.className,{loading:e.isLoading}),type:e.type,"aria-label":e.ariaLabel},e.isLoading?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null)):o.a.createElement("span",{"data-label":e.dataLabel},e.children));s.defaultProps={cls:["cta-primary"],className:""},a.a=s},"./assets/src/ui/formfield/DwFormField.tsx":function(e,a,t){"use strict";var r=t("./node_modules/react/index.js"),n=t.n(r),l=t("./assets/src/ui/formfield/FormField.tsx");let o=["+1","+1242","+1246","+1264","+1268","+1284","+1340","+1345","+1441","+1473","+1649","+1664","+1670","+1671","+1684","+1721","+1758","+1767","+1784","+1868","+1869","+20","+211","+212","+213","+216","+218","+220","+221","+222","+223","+224","+225","+226","+227","+228","+229","+230","+231","+232","+233","+234","+235","+236","+237","+238","+239","+240","+241","+242","+243","+244","+245","+246","+248","+249","+250","+251","+252","+253","+254","+255","+256","+257","+258","+260","+261","+262","+263","+264","+265","+266","+267","+268","+269","+27","+290","+291","+297","+298","+299","+30","+31","+32","+33","+34","+350","+351","+352","+353","+354","+355","+356","+357","+358","+359","+36","+370","+371","+372","+373","+374","+375","+376","+377","+378","+380","+381","+382","+383","+385","+386","+387","+389","+39","+40","+41","+420","+421","+423","+43","+44","+45","+46","+47","+48","+49","+500","+501","+502","+503","+504","+505","+506","+507","+508","+509","+51","+52","+53","+54","+55","+56","+57","+58","+590","+591","+592","+593","+594","+595","+596","+597","+598","+599","+60","+61","+62","+63","+64","+65","+66","+670","+672","+673","+674","+675","+676","+677","+678","+679","+680","+681","+682","+683","+685","+686","+687","+688","+689","+690","+691","+692","+7","+81","+82","+84","+850","+852","+853","+855","+856","+86","+880","+886","+90","+91","+92","+93","+94","+95","+960","+961","+962","+963","+964","+965","+966","+967","+968","+970","+971","+972","+973","+974","+975","+976","+977","+98","+992","+993","+994","+995","+996","+998"];const s=e=>{const a=e.def[e.name];if(a&&a.mandatory||e.requiredLabel,"phoneprefix"===e.type){const t=[{value:"",label:"Select"}].concat(o.map((e=>({value:e,label:e}))));return n.a.createElement(l.a,Object.assign({},e,a,{type:"select",options:t,required:null==a?void 0:a.mandatory}))}return n.a.createElement(l.a,Object.assign({},e,a,{required:!!(a&&a.mandatory||e.requiredLabel)}))};s.defaultProps={type:"text"},a.a=s},"./assets/src/ui/formfield/FormField.tsx":function(e,a,t){"use strict";var r=t("./node_modules/classnames/index.js"),n=t.n(r),l=t("./node_modules/react/index.js"),o=t.n(l),s=t("./node_modules/react-final-form/dist/react-final-form.es.js"),c=t("./node_modules/react-i18next/dist/es/withTranslation.js"),i=t("./node_modules/tippy.js/dist/tippy.esm.js");const d=e=>{const{t:a}=e,[t,r]=Object(l.useState)(!1),[c,d]=Object(l.useState)(!1);Object(l.useEffect)((()=>{("string"==typeof e.htmlValue&&e.htmlValue.length>0||"date"==e.type)&&d(!0)}),[e.htmlValue]),Object(l.useEffect)((()=>{Object(i.a)(".input-tooltip",{content:e=>e.dataset.tooltip,theme:"light-border",allowHTML:!0,appendTo:function(){return document.querySelector("body")}})}),[]);const m=Object(l.useMemo)((()=>e.idSuffix?`${e.name}_${e.idSuffix}`:e.name),[e.name,e.idSuffix]),u=(e,a,t)=>e&&a?t+"-helpertext "+t+"-error":e&&!a?t+"-helpertext":!e&&a?t+"-error":null;function p(e){return e.meta.error&&e.meta.touched}const b=(l,s,i)=>"textarea"===e.type?o.a.createElement(o.a.Fragment,null,o.a.createElement("textarea",Object.assign({rows:4},l,{id:m,disabled:e.disabled,readOnly:e.readonly,className:n()("form-control",e.className,{"disable-resize":"textarea"===e.type&&e.noResize},{"label-up":c}),"aria-required":e.required,"aria-invalid":i,placeholder:e.placeholder,maxLength:e.maxLength,"aria-describedby":u(e.helperText,i,m),onChange:a=>{l.onChange(a),d(""!=a.currentTarget.value),e.onChange&&e.onChange(a)},onFocus:a=>{l.onFocus(a),e.onFocus&&e.onFocus(a)}})),h()):"select"===e.type?o.a.createElement("div",{className:"form-select"},h(),o.a.createElement("select",Object.assign({},l,{id:m,disabled:e.disabled,className:n()("form-control",e.className,{"have-tooltip":e.tooltipText}),autoComplete:e.autocomplete,"aria-required":e.required,"aria-invalid":i,onChange:a=>{l.onChange(a),e.onChange&&e.onChange(a)},"aria-describedby":u(e.helperText,i,m)}),(e.options||[]).map((e=>o.a.createElement("option",{key:e.value,value:e.value||"",disabled:e.disabled},e.label))))):"checkbox"===e.type&&e.checkboxChecked?o.a.createElement("input",Object.assign({},l,{id:m,disabled:e.disabled,readOnly:e.readonly,onChange:a=>{l.onChange(a),e.onChange&&e.onChange(a)},className:n()("form-checkbox",e.className),type:e.type,"aria-required":e.required,"aria-invalid":i,"aria-describedby":u(e.helperText,i,m),checked:e.checkboxChecked})):"checkbox"===e.type?o.a.createElement("input",Object.assign({},l,{id:m,disabled:e.disabled,readOnly:e.readonly,onChange:a=>{l.onChange(a),e.onChange&&e.onChange(a)},className:n()("form-checkbox",e.className),type:e.type,"aria-required":e.required,"aria-invalid":i,"aria-describedby":u(e.helperText,i,m)})):"password"===e.type&&e.showPassword?o.a.createElement("div",null,o.a.createElement("input",Object.assign({},l,{id:m,className:n()("form-control",{"label-up":c}),disabled:e.disabled,readOnly:e.readonly,maxLength:e.maxLength,type:t?null:e.type,"aria-required":e.required,"aria-invalid":i,autoComplete:e.autocomplete,"aria-describedby":u(e.helperText,i,m),onChange:a=>{l.onChange(a),d(""!=a.currentTarget.value),e.onChange&&e.onChange(a)},onFocus:a=>{l.onFocus(a),e.onFocus&&e.onFocus(a)}})),h(),e.validTick&&o.a.createElement("span",{className:"valid-tick"}),o.a.createElement("button",{type:"button",className:"show-password"+(e.validTick?" has-tick":""),onClick:()=>r(!t),"aria-label":a("checkout.login.aria.label.show.password")},o.a.createElement("svg",{className:`icon--${t?"eye-close":"eye"} icon--m`},o.a.createElement("use",{href:"#sprite-"+(t?"eye-close":"eye")})))):"date"===e.type?o.a.createElement("div",{className:n()("form-date")},o.a.createElement("input",Object.assign({},l,{id:m,disabled:e.disabled,readOnly:e.readonly,maxLength:e.maxLength,type:"date",autoComplete:e.autocomplete,"aria-required":e.required,min:e.min,max:e.max,"aria-invalid":i,placeholder:e.placeholder,"aria-describedby":u(e.helperText,i,m),onKeyDown:null==e?void 0:e.onKeyDown,onChange:a=>{l.onChange(a),d(""!=a.currentTarget.value),e.onChange&&e.onChange(a)},onFocus:a=>{l.onFocus(a),e.onFocus&&e.onFocus(a)},"aria-autocomplete":null==e?void 0:e.ariaAutocomplete,"aria-controls":null==e?void 0:e.ariaControls,"aria-activedescendant":null==e?void 0:e.ariaActivedescendant,className:n()("form-control",{"label-up":c})})),h()):"vat"===e.type?o.a.createElement(o.a.Fragment,null,e.countryCode&&o.a.createElement("div",{className:"vat-enabled"}),o.a.createElement("input",Object.assign({},l,{id:m,disabled:e.disabled,readOnly:e.readonly,maxLength:e.maxLength,type:e.type,autoComplete:e.autocomplete,"aria-required":e.required,"aria-invalid":i,placeholder:e.placeholder,"aria-describedby":u(e.helperText,i,m),onKeyDown:null==e?void 0:e.onKeyDown,onChange:a=>{l.onChange(a),d(""!=a.currentTarget.value),e.onChange&&e.onChange(a)},onFocus:a=>{l.onFocus(a),e.onFocus&&e.onFocus(a)},role:e.role,"aria-expanded":e.ariaExpanded,"aria-autocomplete":null==e?void 0:e.ariaAutocomplete,"aria-controls":null==e?void 0:e.ariaControls,"aria-activedescendant":null==e?void 0:e.ariaActivedescendant,className:n()("form-control",{"label-up":c}),autoFocus:e.autoFocus})),h(),e.countryCode&&o.a.createElement("p",{className:"vat-country-code"},e.countryCode)):o.a.createElement(o.a.Fragment,null,o.a.createElement("input",Object.assign({},l,{id:m,disabled:e.disabled,readOnly:e.readonly,maxLength:e.maxLength,type:e.type,autoComplete:e.autocomplete,"aria-required":"hidden"!==e.type&&e.required,"aria-invalid":i,placeholder:e.placeholder,"aria-describedby":u(e.helperText,i,m),onKeyDown:null==e?void 0:e.onKeyDown,onChange:a=>{l.onChange(a),d(""!=a.currentTarget.value),e.onChange&&e.onChange(a)},onFocus:a=>{l.onFocus(a),e.onFocus&&e.onFocus(a)},role:e.role,"aria-expanded":e.ariaExpanded,"aria-autocomplete":null==e?void 0:e.ariaAutocomplete,"aria-controls":null==e?void 0:e.ariaControls,"aria-activedescendant":null==e?void 0:e.ariaActivedescendant,className:n()("form-control",{"label-up":c},{"have-tooltip":e.tooltipText}),autoFocus:e.autoFocus})),h()),h=()=>{let a=(e.required?"* ":"")+e.label;return o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{id:`${m}-label`,className:n()("form-group-label",{"visually-hidden":e.hiddenLabel},e.labelClassName),htmlFor:m,dangerouslySetInnerHTML:{__html:a}}),e.tooltipText&&o.a.createElement("div",{className:"form-group-icon input-tooltip","data-tooltip":e.tooltipText,"data-tippy-arrow":"false","data-tippy-interactive":"true","data-tippy-placement":"bottom"},o.a.createElement("svg",{className:"icon--info icon--s"},o.a.createElement("use",{href:"#sprite-info"}))))},g=a=>"checkbox"===e.type?o.a.createElement("div",{className:n()("checkbox",{"is-invalid":a.meta.error&&a.meta.touched||a.meta.submitError})},o.a.createElement("div",{className:"form-control__checkbox"},b(a.input,a.meta,a.meta.error&&a.meta.touched||a.meta.submitError),(()=>{let a=(e.required?'<span style="margin-right:7px">*</span>':"")+e.label;return o.a.createElement("label",{id:`${m}-label`,className:n()("form-group-label","multiline",{"visually-hidden":e.hiddenLabel},e.labelClassName),htmlFor:m,dangerouslySetInnerHTML:{__html:a}})})()),a.meta.error&&a.meta.touched&&o.a.createElement("div",{id:m+"-error",className:"invalid-feedback"},a.meta.error)||a.meta.submitError&&o.a.createElement("div",{id:m+"-error",className:"invalid-feedback"},a.meta.submitError),e.helperText?o.a.createElement("span",{id:m+"-helpertext",className:"form-group__helper-text"},e.helperText):null):o.a.createElement("div",{className:n()("form-group",{"is-invalid":a.meta.error&&a.meta.touched||a.meta.submitError},{"is-valid":!a.meta.error&&a.meta.touched&&""!=a.input.value})},b(a.input,a.meta,p(a)||a.meta.submitError),p(a)&&!("password"===e.type&&e.helperText)&&o.a.createElement("div",{id:m+"-error",className:"invalid-feedback"},a.meta.error)||a.meta.submitError&&o.a.createElement("div",{id:m+"-error",className:"invalid-feedback"},a.meta.submitError),e.helperText?o.a.createElement("span",{id:m+"-helpertext",className:"form-group__helper-text"},e.helperText):null);return"radio"===e.type?o.a.createElement("div",{className:n()("radio-wrapper",e.className)},e.label&&o.a.createElement("legend",{className:n()("form-group-label",{"visually-hidden":e.hiddenLabel}),dangerouslySetInnerHTML:{__html:e.label}}),(e.options||[]).map(((a,t)=>o.a.createElement("div",{key:t,className:n()("form-control__radio",e.groupClassName)},o.a.createElement(s.a,{key:t,name:e.name,type:e.type,value:a.value},(({input:r,meta:l})=>{const s=l.error&&l.touched||l.submitError;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:n()("radio",{selected:r.checked})},o.a.createElement("input",{name:r.name,id:`${r.name}_${t}`,value:a.value,checked:r.checked,onChange:a=>{r.onChange(a),e.onChange&&e.onChange(a)},type:e.type,disabled:a.disabled||e.disabled,readOnly:e.readonly,"aria-invalid":s,"aria-describedby":u(e.helperText,s,e.name)}),o.a.createElement("label",{htmlFor:`${e.name}_${t}`},a.label),r.checked&&!!a.content&&a.content),e.helperText?o.a.createElement("span",{id:e.name+"-helpertext",className:"form-group__helper-text"},e.helperText):null,t===e.options.length-1&&(l.error&&l.touched&&o.a.createElement("span",{id:r.name+"-error",className:"invalid-feedback"},l.error)||l.submitError&&o.a.createElement("span",{id:r.name+"-error",className:"invalid-feedback"},l.submitError)))})))))):"radiobox"===e.type?o.a.createElement("div",{className:"radio-wrapper fieldset--plain fieldset--radiobox radiobox2"},e.label&&o.a.createElement("legend",{className:n()("form-group__legend",{"visually-hidden":e.hiddenLabel}),dangerouslySetInnerHTML:{__html:e.label}}),(e.options||[]).map(((a,t)=>o.a.createElement(s.a,{key:t,name:e.name,type:e.type,value:a.value},(({input:r,meta:n})=>{const l=n.error&&n.touched||n.submitError;return o.a.createElement("div",{className:"form-control__radio radiobox2__option"},o.a.createElement("input",{name:r.name,id:`${r.name}_${t}`,value:a.value,defaultChecked:a.checked?a.checked:!e.options.find((e=>e.checked))&&0===t,checked:r.checked,onChange:a=>{r.onChange(a),e.onChange&&e.onChange(a)},type:"radio",disabled:a.disabled||e.disabled,readOnly:e.readonly,"aria-describedby":u(e.helperText,l,e.name)}),o.a.createElement("label",{htmlFor:`${e.name}_${t}`},a.label))}))))):o.a.createElement(s.a,{name:e.name,type:e.type},(e=>g(e)))};d.defaultProps={type:"text"},a.a=Object(c.a)()(d)},"./assets/src/ui/loader/Loading.tsx":function(e,a,t){"use strict";var r=t("./node_modules/classnames/index.js"),n=t.n(r),l=t("./node_modules/react/index.js"),o=t.n(l);a.a=e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:n()("loader",{full:!e.inline},"visible")},o.a.createElement("span",{className:"loader__dot"}),o.a.createElement("span",{className:"loader__dot"}),o.a.createElement("span",{className:"loader__dot"})))}}]);