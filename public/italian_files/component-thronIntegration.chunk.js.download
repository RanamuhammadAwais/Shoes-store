(window.webpackJsonp=window.webpackJsonp||[]).push([["component-thronIntegration"],{"./assets/src/scripts/base/baseComponent.ts":function(e,t,s){"use strict";function n(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){!Object.hasOwnProperty.call(e,t)||null===e[t]||"object"!=typeof e[t]&&"function"!=typeof e[t]||Object.isFrozen(e[t])||n(e[t])})),e}s.d(t,"a",(function(){return h}));var i=s("./node_modules/gia/config.js"),o=s.n(i),r=s("./assets/src/scripts/libs/eventBus.ts"),a=n({BODY:{TOGGLE_OVERLAY:"toggle:overlay",ON_OVERLAY:"on:overlay",OFF_OVERLAY:"off:overlay"},HEADER:{IN_PDP:"header:inPdp"},BREAKPOINTER:{BREAKPOINT_CHANGE:"breakpoint:change"},ADDTOCART:{sizeSelected:"size:selected",colorSelected:"color:selected",itemAdded:"item:added",notifyMe:"notifyMe:true",notifyMeFromModal:"status:true"},PDP:{UPDATE_IMAGES_ON_COLOR_CHANGE:"pdp:changeProductColor",UPDATE_SIZES:"pdp:changeProductSize"},MODAL_EVENTS:{show:"modal:show",close:"modal:close"}}),l=s("./assets/src/scripts/utilities/focusableElementUtils.ts");var c=s("./node_modules/bean/bean.js"),d=s.n(c);class h extends class{constructor(){o.a.set("log",!0),this._grabMessages()}get CUSTOM_MESSAGES(){return a}get Messages(){return{}}_checkMessages(){for(const e in this.Messages)if(window.eventQueue.get(e)){const t=this.Messages[e].bind(this);window.eventQueue.get(e).map((e=>{t(e)})),window.eventQueue.delete(e)}}_grabMessages(){this._messages={};for(const e in this.Messages)if(this.Messages[e]){const t=this.Messages[e].bind(this);this._messages[e]=t,this.GRAB(e,t)}}_ungrabMessages(){for(const e in this._messages)this.UNGRAB(e,this._messages[e])}objectIsEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}EMIT(e,t){return r.a.emit(e,t)}GRAB(e,t){t&&r.a.on(e,t)}UNGRAB(e,t){t&&r.a.off(e,t)}getFirstFocusable(e){return Object(l.b)(e)}getFocusableElements(e){return Object(l.a)(e)}_destroy(){this._ungrabMessages()}}{constructor(e){super(),this.observer=new IntersectionObserver((e=>{if(e[0].isIntersecting){[...e[0].target.querySelectorAll('[data-animated="false"]')].forEach(((e,t)=>{setTimeout((()=>{e.setAttribute("data-animated","true")}),300*t)})),this.observer.unobserve(e[0].target)}}),{threshold:.5}),this._componentElement=e,this._componentElement.setAttribute("data-component-init","true"),this.observer.observe(this._componentElement)}get $el(){return this._componentElement}get $options(){const e={},t=Object.assign({},this.$el.dataset);return Object.keys(t).filter((e=>e.includes("option"))).forEach((s=>{const n=h.cleanOptionKey(s);let i;i=t[s].includes("{")&&t[s].includes("}")?JSON.parse(t[s].replace(/'/g,'"')):h.convertType(t[s]),e[n]=i})),n(e)}get COMPONENT_NAME(){return this.__proto__.constructor.name}static convertType(e){let t;switch(e){case"false":t=!1;break;case"true":t=!0;break;case"null":t=null;break;default:t=e}return t}static cleanOptionKey(e){const t=e.replace("option","");return`${t.charAt(0).toLocaleLowerCase()}${t.slice(1)}`}$on(e,t,s=this.$el,n=null){s&&e&&t&&(n?d.a.on(s,e,n,(e=>{e&&e.stopPropagation(),t(e)})):d.a.on(s,e,(e=>{e&&e.stopPropagation(),t(e)})))}$one(e,t,s=this.$el){d.a.one(s,e,t)}$off(e,t=this.$el){d.a.off(t,e)}$fire(e,t=this.$el){d.a.fire(t,e)}loading(e,t=""){this.EMIT(this.CUSTOM_MESSAGES.LOADER_EVENTS.show,{container:e||this.$el,message:t})}endLoading(e,t,s,n=!1,i){this.EMIT(this.CUSTOM_MESSAGES.LOADER_EVENTS.hide,{container:e||this.$el,message:t,icon:s,error:n,time:i})}}},"./assets/src/scripts/components/thronIntegration.ts":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return r}));var n=s("./assets/src/scripts/base/baseComponent.ts"),i=s("./assets/src/scripts/constants/styles.ts");const o=window.thron;class r extends n.a{constructor(e){super(e),this.forcedPause=!1,this.isFirstTimePlayed=!1,this.wasManuallyPaused=!1,this.randomInt=Math.floor(1e5*Math.random());const t=document.createElement("script");t.id="thron_script_"+this.randomInt,t.src="https://santoni-cdn.thron.com/shared/ce/bootstrap/1/scripts/embeds-min.js",document.head.appendChild(t),t.onload=()=>{this.initPlayer()}}get CLASSES(){return{toggle:"media-toggle"}}setPlayerConfigurations(){let e=null;e=window.matchMedia(`(min-width: ${i.b.tabletLandscape}px)`).matches?this.$options.videoId:window.matchMedia(`(min-width: ${i.b.tabletPortrait}px)`).matches?this.$options.videoIdTablet||this.$options.videoId:this.$options.videoIdMobile||this.$options.videoId,this.playerConfigurations={xcontentId:e,clientId:o.clientId,sessId:o.sessId,noSkin:"controlled"!==this.$options.playerType,autoplay:"controlled"!==this.$options.playerType,loop:"controlled"!==this.$options.playerType,muted:"controlled"!==this.$options.playerType,disableUserProfiling:!0,ignoreUserBehavior:!0}}setPlayerId(){this.$el.id=this.$el.id||"thron_"+this.playerConfigurations.xcontentId+"_"+this.randomInt}initPlayer(){this.setPlayerConfigurations(),this.setPlayerId(),this.bindPlayer()}bindPlayer(){var e=window.THRONPreloadResources(this.playerConfigurations);new IntersectionObserver((()=>{e.done((()=>{window.THRONContentExperience(this.$el.id,this.playerConfigurations).on("ready",(e=>{if("controlled"===this.$options.playerType){this.$el.querySelector("video").removeAttribute("poster")}"controlled"!==this.$options.playerType&&this.toggleHandler(e),this.$el.setAttribute("data-animated","true"),this.$options.autoplay&&e.play();const t=document.querySelector("main .experience-component"),s=this.$el.closest(".experience-component");e.on("pause",(()=>{t!==s||this.isFirstTimePlayed||this.wasManuallyPaused||(this.isFirstTimePlayed=!0,setTimeout((()=>{e.play()}),800))}))}))}))}),{threshold:.5}).observe(this.$el)}toggleHandler(e){const t=this.$options.toggleLabelPause,s=this.$options.toggleLabelPlay,n=document.createElement("button");n.classList.add(this.CLASSES.toggle),n.setAttribute("aria-pressed","false"),n.setAttribute("aria-label",t);const i=document.createElement("span");i.classList.add(this.CLASSES.toggle+"-label"),i.innerHTML=t;const o=document.createElement("i");o.classList.add("cssicon-toggle"),n.appendChild(i),n.appendChild(o);(this.$el.closest(this.$options.toggleTarget)||this.$el).appendChild(n),n.addEventListener("click",(n=>{const o=n.currentTarget;"false"===o.getAttribute("aria-pressed")?(o.setAttribute("aria-pressed","true"),i.innerHTML=s,e.pause(),this.wasManuallyPaused=!0):(o.setAttribute("aria-pressed","false"),i.innerHTML=t,e.play(),this.isFirstTimePlayed||(this.isFirstTimePlayed=!0))}))}}},"./assets/src/scripts/utilities/focusableElementUtils.ts":function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return o}));const n='button, [href]:not([aria-hidden="true"]), input, select, textarea, [tabindex]:not([tabindex="-1"]), [role="button"]',i=e=>e.querySelector(n),o=e=>e.querySelectorAll(n)}}]);